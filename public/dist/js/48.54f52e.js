(window.webpackJsonp=window.webpackJsonp||[]).push([[48],{68:function(e,t,a){"use strict";a.r(t);var r=a(1),s=a.n(r),o=a(2),n=a.n(o);function i(e,t,a,r,s,o,n){try{var i=e[o](n),l=i.value}catch(e){return void a(e)}i.done?t(l):Promise.resolve(l).then(r,s)}var l={middleware:"auth",metaInfo:function(){return{title:"User Add"}},data:function(){return{roles:[],message:"",form:new n.a({name:"",email:"",password:"",role:"administrator"})}},created:function(){this.getAllRoles()},methods:{handleSubmit:function(){var e,t=this;return(e=s.a.mark((function e(){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.form.post("/api/settings/user/store");case 2:a=e.sent,t.message=a.data.message,t.form.reset();case 5:case"end":return e.stop()}}),e)})),function(){var t=this,a=arguments;return new Promise((function(r,s){var o=e.apply(t,a);function n(e){i(o,r,s,n,l,"next",e)}function l(e){i(o,r,s,n,l,"throw",e)}n(void 0)}))})()},getAllRoles:function(){var e=this;axios.get(this.AdminBaseUrl+"settings/role/getAllRoles").then((function(t){e.roles=t.data.data}))}}},m=a(0),c=Object(m.a)(l,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"content-wrapper"},[a("div",{staticClass:"content-header row"},[a("div",{staticClass:"content-header-left col-md-9 col-12 mb-2"},[a("div",{staticClass:"row breadcrumbs-top"},[a("div",{staticClass:"col-12"},[a("h2",{staticClass:"content-header-title float-left mb-0"},[e._v("Add User")]),e._v(" "),a("div",{staticClass:"breadcrumb-wrapper col-12"},[a("ol",{staticClass:"breadcrumb"},[a("li",{staticClass:"breadcrumb-item"},[a("router-link",{attrs:{to:{name:"users"}}},[e._v("Users")])],1),e._v(" "),e._m(0)])])])])])]),e._v(" "),a("div",{staticClass:"content-body"},[a("section",{staticClass:"card",attrs:{id:"description"}},[a("div",{staticClass:"card-content"},[a("div",{staticClass:"card-body"},[a("form",{on:{submit:function(t){return t.preventDefault(),e.handleSubmit(t)},keydown:function(t){return e.form.onKeydown(t)}}},[a("alert-success",{attrs:{form:e.form,message:e.message}}),e._v(" "),a("fieldset",{staticClass:"form-group"},[a("label",{attrs:{for:"name"}},[e._v("Name")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.name,expression:"form.name"}],staticClass:"form-control",class:{"is-invalid":e.form.errors.has("name")},attrs:{type:"text",id:"name",name:"name",placeholder:"Name"},domProps:{value:e.form.name},on:{input:function(t){t.target.composing||e.$set(e.form,"name",t.target.value)}}}),e._v(" "),a("has-error",{attrs:{form:e.form,field:"name"}})],1),e._v(" "),a("fieldset",{staticClass:"form-group"},[a("label",{attrs:{for:"email"}},[e._v("Email")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.email,expression:"form.email"}],staticClass:"form-control",class:{"is-invalid":e.form.errors.has("email")},attrs:{type:"email",id:"email",name:"email",placeholder:"Email"},domProps:{value:e.form.email},on:{input:function(t){t.target.composing||e.$set(e.form,"email",t.target.value)}}}),e._v(" "),a("has-error",{attrs:{form:e.form,field:"name"}})],1),e._v(" "),a("fieldset",{staticClass:"form-group"},[a("label",{attrs:{for:"role"}},[e._v("Role")]),e._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.form.role,expression:"form.role"}],staticClass:"form-control",attrs:{name:"role"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(e.form,"role",t.target.multiple?a:a[0])}}},e._l(e.roles,(function(t){return a("option",{key:t.id},[e._v(e._s(t.name))])})),0)]),e._v(" "),a("fieldset",{staticClass:"form-group"},[a("label",{attrs:{for:"password"}},[e._v("Password")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.password,expression:"form.password"}],staticClass:"form-control",class:{"is-invalid":e.form.errors.has("password")},attrs:{type:"password",id:"password",name:"password",placeholder:"password"},domProps:{value:e.form.password},on:{input:function(t){t.target.composing||e.$set(e.form,"password",t.target.value)}}}),e._v(" "),a("has-error",{attrs:{form:e.form,field:"name"}})],1),e._v(" "),a("div",{staticClass:"d-flex justify-content-between"},[a("router-link",{staticClass:"btn btn-secondary mr-1 mb-1 waves-effect waves-light",attrs:{to:{name:"users"}}},[e._v("Back")]),e._v(" "),a("v-button",{attrs:{loading:e.form.busy,type:"primary"}},[e._v("Submit")])],1)],1)])])])])])}),[function(){var e=this.$createElement,t=this._self._c||e;return t("li",{staticClass:"breadcrumb-item"},[t("a",{attrs:{href:"#"}},[this._v("Add")])])}],!1,null,null,null);t.default=c.exports}}]);