(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{122:function(t,e,a){"use strict";a(81)},123:function(t,e,a){(t.exports=a(5)(!1)).push([t.i,".pagination{justify-content:flex-end!important}.pagination .page-stats{align-items:center;margin-right:5px}.pagination i{color:#3273dc!important}",""])},141:function(t,e,a){"use strict";a(91)},142:function(t,e,a){(t.exports=a(5)(!1)).push([t.i,".dropdown .dropdown-menu .dropdown-item[data-v-fc242840],.dropleft .dropdown-menu .dropdown-item[data-v-fc242840],.dropright .dropdown-menu .dropdown-item[data-v-fc242840],.dropup .dropdown-menu .dropdown-item[data-v-fc242840]{padding:5px 10px}",""])},17:function(t,e,a){"use strict";a.r(e);var s=a(3),n=a(4),o=a(2),l=a.n(o),r={components:{datatable:s.a,pagination:n.a},middleware:"auth",metaInfo:function(){return{title:"Unclaimed Gift Aid"}},data:function(){var t={},e=[{label:"Action",name:"action",checkable:!0},{label:"Projects",name:"name"},{label:"Sponsor By",name:"first_name"},{label:"Total",name:"order_total",sortable:!0},{label:"Payment Method",name:"payment_method"},{label:"Submitted",name:"submitted"},{label:"Claimed",name:"claimed"}];return e.forEach((function(e){t[e.name]=-1})),{message:"",form:new l.a({selectedrows:[]}),donations:[],columns:e,sortKey:"full_name",sortOrders:t,perPage:["10","20","30","all"],tableData:{draw:0,length:10,search:"",column:0,dir:"desc"},pagination:{lastPage:"",currentPage:"",total:"",lastPageUrl:"",nextPageUrl:"",prevPageUrl:"",from:"",to:"",links:[]}}},methods:{selectall:function(t){var e=this;t?this.form.selectedrows=[]:this.donations.forEach((function(t){e.form.selectedrows.push(t.id)}))},markAllAsSubmitted:function(){var t=this;this.form.post("/api/markAllDonationsAsGiftAid").then((function(e){t.getData(),console.log(e.data),console.log(e),t.message=e.data.message,t.form.reset()})).catch((function(t){console.log(t)}))},getData:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/api/getAllDonationsWithGiftaid";this.tableData.draw++,axios.get(e,{params:this.tableData}).then((function(e){var a=e.data;t.tableData.draw==a.draw&&(t.donations=a.data.data,t.configPagination(a.data))})).catch((function(t){console.log(t)}))},sortBy:function(t){this.sortKey=t,this.sortOrders[t]=-1*this.sortOrders[t],this.tableData.column=this.getIndex(this.columns,"name",t),this.tableData.dir=1===this.sortOrders[t]?"asc":"desc",this.getData()}},created:function(){this.getData()}},i=(a(141),a(0)),c=Object(i.a)(r,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content-wrapper"},[a("div",{staticClass:"content-header row"},[t._m(0),t._v(" "),a("div",{staticClass:"content-header-right text-md-right col-md-3 col-12 d-md-block d-none"},[a("div",{staticClass:"form-group breadcrum-right"},[a("router-link",{staticClass:"btn btn-primary mr-1 mb-1 waves-effect waves-light",attrs:{to:{name:"donation.add"}}},[t._v("Add Donation")])],1)])]),t._v(" "),a("div",{staticClass:"content-body"},[a("section",{staticClass:"card",attrs:{id:"description"}},[a("div",{staticClass:"card-content"},[a("div",{staticClass:"card-body"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[t.form.selectedrows.length>0?a("button",{staticClass:"btn btn-success",on:{click:function(e){return t.markAllAsSubmitted()}}},[t._v("Trasfer To Claim")]):t._e()]),t._v(" "),a("div",{staticClass:"col-md-12"},[a("alert-success",{attrs:{form:t.form,message:t.message}})],1)]),t._v(" "),a("div",{staticClass:"row dataTables_wrapper mb-1"},[a("div",{staticClass:"col-sm-12 col-md-6"},[a("div",{staticClass:"dataTables_length"},[a("label",[t._v("Show "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.tableData.length,expression:"tableData.length"}],staticClass:"custom-select custom-select-sm form-control form-control-sm",on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.tableData,"length",e.target.multiple?a:a[0])},function(e){return t.getData()}]}},t._l(t.perPage,(function(e,s){return a("option",{key:s,domProps:{value:e}},[t._v("\n                      "+t._s(e)+"\n                    ")])})),0),t._v(" entries\n                ")])])]),t._v(" "),a("div",{staticClass:"col-sm-12 col-md-6"},[a("div",{staticClass:"dataTables_filter"},[a("label",[t._v("Search:"),a("input",{directives:[{name:"model",rawName:"v-model",value:t.tableData.search,expression:"tableData.search"}],staticClass:"form-control form-control-sm",attrs:{type:"search",placeholder:"Search Table"},domProps:{value:t.tableData.search},on:{input:[function(e){e.target.composing||t.$set(t.tableData,"search",e.target.value)},function(e){return t.getData()}]}})])])])]),t._v(" "),a("div",{staticClass:"table-responsive"},[a("datatable",{staticClass:"table-striped",attrs:{columns:t.columns,sortKey:t.sortKey,sortOrders:t.sortOrders},on:{sort:t.sortBy,selectall:t.selectall}},[a("tbody",t._l(t.donations,(function(e){return a("tr",{key:e.id},[a("td",[a("fieldset",[a("div",{staticClass:"custom-control custom-checkbox"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.selectedrows,expression:"form.selectedrows"}],staticClass:"custom-control-input",attrs:{type:"checkbox",id:"customCheck"+e.id},domProps:{value:e.id,checked:Array.isArray(t.form.selectedrows)?t._i(t.form.selectedrows,e.id)>-1:t.form.selectedrows},on:{change:function(a){var s=t.form.selectedrows,n=a.target,o=!!n.checked;if(Array.isArray(s)){var l=e.id,r=t._i(s,l);n.checked?r<0&&t.$set(t.form,"selectedrows",s.concat([l])):r>-1&&t.$set(t.form,"selectedrows",s.slice(0,r).concat(s.slice(r+1)))}else t.$set(t.form,"selectedrows",o)}}}),t._v(" "),a("label",{staticClass:"custom-control-label",attrs:{for:"customCheck"+e.id}})])])]),t._v(" "),a("td",t._l(e.items,(function(e){return a("div",{key:"product_id"+e.id,staticClass:"d-inline mr-1 mb-1"},[t._v(t._s(e.product?e.product.name:""))])})),0),t._v(" "),a("td",[t._v(t._s(e.first_name+" "+e.last_name))]),t._v(" "),a("td",[t._v(t._s(t.round2Fixed(e.order_total)))]),t._v(" "),a("td",[t._v(t._s(e.payment_method))]),t._v(" "),e.submitted?a("td",[a("div",{staticClass:"badge badge-pill badge-glow badge-success mr-1 mb-1"},[t._v("Submitted")])]):a("td",[a("div",{staticClass:"badge badge-pill badge-glow badge-primary mr-1 mb-1"},[t._v("Not Submitted")])]),t._v(" "),e.claimed?a("td",[a("div",{staticClass:"badge badge-pill badge-glow badge-success mr-1 mb-1"},[t._v("Claimed")])]):a("td",[a("div",{staticClass:"badge badge-pill badge-glow badge-primary mr-1 mb-1"},[t._v("Not Claimed")])])])})),0)])],1),t._v(" "),a("pagination",{attrs:{pagination:t.pagination},on:{getpageData:t.getData,prev:function(e){return t.getData(t.pagination.prevPageUrl)},next:function(e){return t.getData(t.pagination.nextPageUrl)}}})],1)])])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"content-header-left col-md-9 col-12 mb-2"},[e("div",{staticClass:"row breadcrumbs-top"},[e("div",{staticClass:"col-12"},[e("h2",{staticClass:"content-header-title float-left mb-0"},[this._v("Gift Aids")])])])])}],!1,null,"fc242840",null);e.default=c.exports},3:function(t,e,a){"use strict";var s={props:["columns","sortKey","sortOrders"],data:function(){return{select_all:!1}}},n=a(0),o=Object(n.a)(s,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("table",{staticClass:"table dataTable"},[a("thead",[a("tr",t._l(t.columns,(function(e){return a("th",{key:e.name,class:t.sortKey===e.name?t.sortOrders[e.name]>0?"sorting_asc":"sorting_desc":"sorting "+e.clasess},[e.checkable?a("span",[a("div",{staticClass:"custom-control custom-checkbox"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.select_all,expression:"select_all"}],staticClass:"custom-control-input",attrs:{type:"checkbox",id:"select_all_checkbox"},domProps:{checked:Array.isArray(t.select_all)?t._i(t.select_all,null)>-1:t.select_all},on:{click:function(e){return t.$emit("selectall",t.select_all)},change:function(e){var a=t.select_all,s=e.target,n=!!s.checked;if(Array.isArray(a)){var o=t._i(a,null);s.checked?o<0&&(t.select_all=a.concat([null])):o>-1&&(t.select_all=a.slice(0,o).concat(a.slice(o+1)))}else t.select_all=n}}}),t._v(" "),a("label",{staticClass:"custom-control-label",attrs:{for:"select_all_checkbox"}})])]):e.sortable?a("span",{on:{click:function(a){return t.$emit("sort",e.name)}}},[a("i",{staticClass:"feather icon-chevrons-down",class:1==t.sortOrders[e.name]?"icon-chevrons-down":"icon-chevrons-up"}),t._v("\n                    "+t._s(e.label)+"\n                ")]):a("span",[t._v("\n                    "+t._s(e.label)+"\n                ")])])})),0)]),t._v(" "),t._t("default")],2)}),[],!1,null,null,null);e.a=o.exports},4:function(t,e,a){"use strict";var s={props:["pagination","filtered"],created:function(){},methods:{isCurrentPage:function(t){return this.pagination.currentPage===t},changePage:function(t){t>this.pagination.lastPage&&(t=this.pagination.lastPage),this.pagination.currentPage=t,this.$emit("getpageData",t)}},computed:{}},n=(a(122),a(0)),o=Object(n.a)(s,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("nav",{attrs:{"aria-label":"Page navigation example"}},[a("ul",{staticClass:"pagination justify-content-center mt-2"},t._l(t.pagination.links,(function(e,s){return a("li",{key:s,staticClass:"page-item",class:t.isCurrentPage(e.label)?"active":"",on:{click:function(a){return a.preventDefault(),t.changePage(e.url)}}},[a("a",{staticClass:"page-link",domProps:{innerHTML:t._s(e.label)}})])})),0)])}),[],!1,null,null,null);e.a=o.exports},81:function(t,e,a){var s=a(123);"string"==typeof s&&(s=[[t.i,s,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};a(6)(s,n);s.locals&&(t.exports=s.locals)},91:function(t,e,a){var s=a(142);"string"==typeof s&&(s=[[t.i,s,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};a(6)(s,n);s.locals&&(t.exports=s.locals)}}]);